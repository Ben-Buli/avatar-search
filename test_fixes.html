<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>修復測試 - 翻轉功能和配件 UI</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        .test-section {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        .test-image {
            width: 200px;
            height: 200px;
            object-fit: cover;
            border-radius: 8px;
            margin: 1rem;
            border: 2px solid #e5e7eb;
        }
        .test-controls {
            display: flex;
            gap: 1rem;
            margin: 1rem 0;
            flex-wrap: wrap;
        }
        .test-btn {
            background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        .test-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.3);
        }
        .test-btn.active {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }
        .status {
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
        }
        .success {
            background: #d1fae5;
            color: #065f46;
            border: 1px solid #a7f3d0;
        }
        .info {
            background: #dbeafe;
            color: #1e40af;
            border: 1px solid #93c5fd;
        }
        .warning {
            background: #fef3c7;
            color: #92400e;
            border: 1px solid #fcd34d;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>🔧 修復測試頁面</h1>
        
        <!-- 翻轉功能測試 -->
        <div class="test-section">
            <h2>🔄 翻轉功能測試</h2>
            <div class="status info">
                <h3>測試項目：</h3>
                <ul>
                    <li>✅ 水平翻轉功能修復</li>
                    <li>✅ 垂直翻轉功能</li>
                    <li>✅ 90度旋轉功能</li>
                    <li>✅ 濾鏡效果應用</li>
                </ul>
            </div>
            
            <div style="text-align: center;">
                <img id="testImage" src="Avatar/avatar-1.png" alt="測試圖片" class="test-image">
            </div>
            
            <div class="test-controls">
                <button class="test-btn" onclick="testFlipHorizontal()">
                    <i class="fas fa-arrows-alt-h"></i>
                    水平翻轉
                </button>
                <button class="test-btn" onclick="testFlipVertical()">
                    <i class="fas fa-arrows-alt-v"></i>
                    垂直翻轉
                </button>
                <button class="test-btn" onclick="testRotate90()">
                    <i class="fas fa-redo"></i>
                    旋轉90度
                </button>
                <button class="test-btn" onclick="resetTransforms()">
                    <i class="fas fa-undo"></i>
                    重置變形
                </button>
            </div>
            
            <div id="flipStatus" class="status success" style="display: none;">
                翻轉功能正常運作！
            </div>
        </div>
        
        <!-- 配件 UI 測試 -->
        <div class="test-section">
            <h2>🎨 配件 UI 優化測試</h2>
            <div class="status info">
                <h3>優化內容：</h3>
                <ul>
                    <li>✅ 全螢幕遮罩設計</li>
                    <li>✅ 現代化卡片佈局</li>
                    <li>✅ 漸變背景和陰影</li>
                    <li>✅ 平滑動畫效果</li>
                    <li>✅ 響應式設計</li>
                </ul>
            </div>
            
            <div class="test-controls">
                <button class="test-btn" onclick="testAccessoriesUI()">
                    <i class="fas fa-plus"></i>
                    開啟配件庫
                </button>
                <button class="test-btn" onclick="testResponsiveUI()">
                    <i class="fas fa-mobile-alt"></i>
                    測試響應式
                </button>
            </div>
            
            <div class="status warning">
                <strong>注意：</strong> 配件庫需要實際的配件圖片才能完整測試。目前會顯示預設的測試項目。
            </div>
        </div>
        
        <!-- 快速連結 -->
        <div class="test-section">
            <h2>🔗 快速連結</h2>
            <div class="test-controls">
                <button class="test-btn" onclick="window.open('index.html', '_blank')">
                    <i class="fas fa-home"></i>
                    主頁面
                </button>
                <button class="test-btn" onclick="window.open('edit.html?image=avatar-1.png', '_blank')">
                    <i class="fas fa-edit"></i>
                    編輯頁面
                </button>
                <button class="test-btn" onclick="window.open('test_edit_page.html', '_blank')">
                    <i class="fas fa-vial"></i>
                    編輯測試
                </button>
            </div>
        </div>
    </div>

    <!-- 配件庫測試 -->
    <div id="testAccessoriesLibrary" class="accessories-library" style="display: none;">
        <div class="library-container">
            <div class="library-header">
                <h5>測試配件庫</h5>
                <div class="header-actions">
                    <button class="close-library-btn" onclick="closeTestAccessories()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
            <div class="accessories-grid">
                <div class="accessory-option" onclick="selectTestAccessory('earring1')">
                    <img src="Accessories/瑪瑙耳環.png" alt="瑪瑙耳環" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiBmaWxsPSIjRjNGNEY2Ii8+CjxjaXJjbGUgY3g9IjQwIiBjeT0iNDAiIHI9IjIwIiBmaWxsPSIjOUI1Q0Y2Ii8+Cjx0ZXh0IHg9IjQwIiB5PSI0NSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0id2hpdGUiIGZvbnQtc2l6ZT0iMTIiPuiCieWwvDwvdGV4dD4KPC9zdmc+'">
                    <div class="name">瑪瑙耳環</div>
                </div>
                <div class="accessory-option" onclick="selectTestAccessory('bag1')">
                    <img src="Accessories/紅色情人袋.png" alt="紅色情人袋" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiBmaWxsPSIjRjNGNEY2Ii8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBmaWxsPSIjRUY0NDQ0Ii8+Cjx0ZXh0IHg9IjQwIiB5PSI0NSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0id2hpdGUiIGZvbnQtc2l6ZT0iMTAiPuWbveWbveWkqOWkqTwvdGV4dD4KPC9zdmc+'">
                    <div class="name">紅色情人袋</div>
                </div>
                <div class="accessory-option" onclick="selectTestAccessory('frame1')">
                    <img src="Accessories/Frame 427 2.png" alt="相框" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiBmaWxsPSIjRjNGNEY2Ii8+CjxyZWN0IHg9IjEwIiB5PSIxMCIgd2lkdGg9IjYwIiBoZWlnaHQ9IjYwIiBmaWxsPSJub25lIiBzdHJva2U9IiM5QjVDRjYiIHN0cm9rZS13aWR0aD0iMyIvPgo8dGV4dCB4PSI0MCIgeT0iNDUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiM5QjVDRjYiIGZvbnQtc2l6ZT0iMTIiPuWbvuWbveWkqOWkqTwvdGV4dD4KPC9zdmc+'">
                    <div class="name">相框</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 測試翻轉功能
        let testImageState = {
            flipHorizontal: false,
            flipVertical: false,
            rotation: 0
        };

        function testFlipHorizontal() {
            testImageState.flipHorizontal = !testImageState.flipHorizontal;
            updateTestImage();
            updateFlipButtons();
            showFlipStatus();
        }

        function testFlipVertical() {
            testImageState.flipVertical = !testImageState.flipVertical;
            updateTestImage();
            updateFlipButtons();
            showFlipStatus();
        }

        function testRotate90() {
            testImageState.rotation = (testImageState.rotation + 90) % 360;
            updateTestImage();
            showFlipStatus();
        }

        function resetTransforms() {
            testImageState = {
                flipHorizontal: false,
                flipVertical: false,
                rotation: 0
            };
            updateTestImage();
            updateFlipButtons();
            showFlipStatus();
        }

        function updateTestImage() {
            const img = document.getElementById('testImage');
            const filters = [];
            
            if (testImageState.flipHorizontal) {
                filters.push('scaleX(-1)');
            }
            if (testImageState.flipVertical) {
                filters.push('scaleY(-1)');
            }
            if (testImageState.rotation !== 0) {
                filters.push(`rotate(${testImageState.rotation}deg)`);
            }
            
            img.style.filter = filters.join(' ');
        }

        function updateFlipButtons() {
            const buttons = document.querySelectorAll('.test-btn');
            buttons[0].classList.toggle('active', testImageState.flipHorizontal);
            buttons[1].classList.toggle('active', testImageState.flipVertical);
        }

        function showFlipStatus() {
            const status = document.getElementById('flipStatus');
            status.style.display = 'block';
            status.textContent = `翻轉狀態：水平=${testImageState.flipHorizontal ? '是' : '否'}，垂直=${testImageState.flipVertical ? '是' : '否'}，旋轉=${testImageState.rotation}度`;
            
            setTimeout(() => {
                status.style.display = 'none';
            }, 3000);
        }

        // 測試配件 UI
        function testAccessoriesUI() {
            const library = document.getElementById('testAccessoriesLibrary');
            library.style.display = 'flex';
        }

        function closeTestAccessories() {
            const library = document.getElementById('testAccessoriesLibrary');
            library.style.display = 'none';
        }

        function selectTestAccessory(accessoryId) {
            alert(`選擇了配件：${accessoryId}`);
            closeTestAccessories();
        }

        function testResponsiveUI() {
            // 模擬手機螢幕
            const container = document.querySelector('.accessories-library .library-container');
            container.style.width = '95vw';
            container.style.maxHeight = '90vh';
            
            setTimeout(() => {
                container.style.width = '';
                container.style.maxHeight = '';
            }, 2000);
        }

        // 點擊背景關閉配件庫
        document.getElementById('testAccessoriesLibrary').addEventListener('click', function(e) {
            if (e.target === this) {
                closeTestAccessories();
            }
        });

        // 頁面載入時初始化
        window.addEventListener('load', () => {
            console.log('🔧 修復測試頁面已載入');
            console.log('✅ 翻轉功能已修復');
            console.log('✅ 配件 UI 已優化');
        });
    </script>
</body>
</html> 