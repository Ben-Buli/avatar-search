# 社群頭貼搜尋系統

一個功能完整的社群媒體頭貼管理和搜尋系統，支援圖片編輯、配件添加、標籤管理和批量匯出功能。

## 🌟 主要功能

### 📱 搜尋與篩選
- **智能搜尋**：支援按檔案名稱、顯示名稱、標籤和主題搜尋
- **模糊搜尋**：支援容錯搜尋，自動過濾特殊字符
- **拼音搜尋**：支援中文拼音搜尋，智能匹配中文字符
- **部分詞匹配**：支援多詞搜尋，任一詞匹配即可
- **主題篩選**：按主題分類快速篩選圖片
- **快速篩選**：一鍵篩選有標籤、有主題或全部圖片
- **多種排序**：按名稱、標籤數量、主題排序
- **顯示筆數控制**：可選擇每頁顯示 5、15 筆或全部
- **分頁功能**：非全部顯示時提供完整的分頁控制

### 🎨 圖片編輯
- **手機版優化**：全新設計的手機友好編輯介面
- **響應式佈局**：完美適配各種螢幕尺寸
- **觸控優化**：專為觸控設備設計的按鈕和滑桿
- **現代化設計**：漸層背景和流暢動畫效果
- **背景顏色調整**：自定義背景顏色
- **圖片濾鏡**：亮度、對比度、飽和度調整
- **變形工具**：水平/垂直翻轉、90度旋轉
- **裁剪功能**：自由裁剪圖片區域
- **重置功能**：一鍵重置所有編輯

### 🎭 配件系統
- **配件庫**：從 Accessories 資料夾載入真實配件圖片
- **拖拽定位**：自由拖拽配件到任意位置
- **縮放旋轉**：調整配件大小和角度
- **多層管理**：支援多個配件同時使用
- **即時預覽**：編輯時即時顯示效果

### 🏷️ 標籤管理
- **智能標籤**：自動建議常用標籤
- **標籤編輯**：添加、刪除、修改標籤
- **批量編輯**：支援批量添加標籤和設定主題
- **操作模式**：可選擇添加模式（保留現有）或替換模式（覆蓋現有）
- **檔案名稱建議**：根據標籤自動生成檔案名稱建議
- **主題分類**：為圖片設定主題分類

### 💾 資料管理
- **JSON 儲存**：所有資料以 JSON 格式儲存
- **伺服器同步**：支援 PHP 後端儲存
- **離線備份**：可複製 JSON 資料手動備份
- **批量匯出**：匯出搜尋結果為 CSV 檔案

## 🚀 快速開始

### 環境需求
- 現代瀏覽器（Chrome、Firefox、Safari、Edge）
- 支援 PHP 的網頁伺服器（可選，用於資料儲存）

### 安裝步驟

1. **下載專案**
   ```bash
   git clone [repository-url]
   cd avatar_search
   ```

2. **啟動伺服器**
   ```bash
   # 使用 Python 內建伺服器
   python3 -m http.server 8000
   
   # 或使用 PHP 內建伺服器
   php -S localhost:8000
   ```

3. **開啟瀏覽器**
   訪問 `http://localhost:8000`

### 檔案結構
```
avatar_search/
├── index.html              # 主頁面
├── edit.html               # 手機版編輯頁面
├── styles.css              # 樣式檔案
├── script.js               # JavaScript 邏輯
├── save_data.php           # PHP 後端儲存
├── image_data.json         # 圖片資料庫
├── test_mobile_edit.html   # 手機版編輯測試頁面
├── Avatar/                 # 頭貼圖片資料夾
│   ├── *.png              # 頭貼圖片檔案
├── Accessories/            # 配件圖片資料夾
│   ├── *.png              # 配件圖片檔案
├── test.html              # 功能測試頁面
├── test_paths.html        # 路徑測試頁面
└── README.md              # 說明文件
```

## 📖 使用指南

### 搜尋功能
1. 在搜尋框輸入關鍵字（或按 `Ctrl/Cmd + F` 快速聚焦）
2. 選擇主題篩選器
3. 使用快速篩選按鈕
4. 選擇排序方式
5. 選擇顯示筆數（5、15 筆或全部）
6. 使用分頁控制項瀏覽結果
7. 點擊匯出按鈕下載結果

### 手機版圖片編輯
1. 點擊圖片卡片上的編輯按鈕進入編輯頁面
2. 使用頂部的工具選擇按鈕切換不同編輯功能
3. 調整圖片亮度、對比度、飽和度
4. 使用變形工具進行翻轉和旋轉
5. 設定背景顏色
6. 添加和管理配件
7. 編輯圖片資訊和標籤
8. 點擊儲存按鈕保存更改

## 🆕 最新更新

### v2.0 - 手機版編輯頁面重新設計 (2024)
- **全新手機介面**：專為手機設備設計的編輯頁面
- **響應式佈局**：完美適配各種螢幕尺寸
- **觸控優化**：更大的按鈕和滑桿，適合觸控操作
- **現代化設計**：漸層背景、圓角設計、流暢動畫
- **工具面板重構**：更直觀的工具選擇和操作介面
- **資訊面板優化**：可折疊的資訊編輯區域
- **視覺回饋改善**：更好的按鈕狀態和動畫效果
- **效能優化**：更快的載入速度和流暢的操作體驗

### 主要改進：
- 重新設計的 HTML 結構，更符合手機使用習慣
- 模組化的 CSS 樣式，支援響應式設計
- 優化的 JavaScript 功能，改善使用者體驗
- 觸控友好的介面設計
- 現代化的視覺風格
- 更好的可訪問性支援

### 圖片編輯
1. 點擊圖片進入編輯模式
2. 調整背景顏色
3. 使用濾鏡工具調整圖片效果
4. 應用變形工具
5. 使用裁剪功能
6. 點擊下載按鈕儲存編輯後的圖片

### 配件添加
1. 在編輯模式中點擊「添加配件」
2. 從配件庫選擇配件
3. 拖拽配件到合適位置
4. 調整配件大小和角度
5. 可添加多個配件
6. 下載合併後的圖片

### 標籤管理
1. 在管理頁面點擊圖片
2. 在標籤輸入框輸入標籤
3. 按 Enter 或點擊建議添加標籤
4. 點擊標籤旁的 × 刪除標籤
5. 設定主題分類
6. 儲存變更（或按 `Ctrl/Cmd + S` 快速儲存）

## 🔧 技術特點

### 前端技術
- **原生 JavaScript**：無依賴，輕量高效
- **Canvas API**：圖片處理和編輯
- **CSS Grid/Flexbox**：響應式佈局
- **Local Storage**：本地資料暫存

### 後端技術
- **PHP**：簡單的資料儲存 API
- **JSON**：結構化資料格式
- **CORS**：跨域資源共享支援

### 圖片處理
- **非破壞性編輯**：原始圖片不變
- **即時預覽**：編輯效果即時顯示
- **高品質輸出**：支援高解析度圖片
- **多格式支援**：PNG、JPG、JPEG、GIF、WebP、BMP、TIFF、SVG、ICO、AVIF、HEIC、HEIF

### 用戶體驗
- **現代化通知**：美觀的滑入式通知系統
- **鍵盤快捷鍵**：完整的鍵盤操作支援
- **效能監控**：即時載入時間監控
- **錯誤處理**：友好的錯誤提示和處理建議

## 🛠️ 自定義設定

### 添加新圖片
1. 將圖片檔案放入 `Avatar/` 資料夾
2. 重新整理頁面自動載入
3. 在管理頁面為新圖片添加標籤和主題

### 添加新配件
1. 將配件圖片放入 `Accessories/` 資料夾
2. 修改 `script.js` 中的 `accessoryFiles` 陣列
3. 重新整理頁面即可使用

### 修改樣式
編輯 `styles.css` 檔案自定義外觀：
- 修改顏色主題
- 調整佈局尺寸
- 自定義動畫效果

## 🐛 故障排除

### 常見問題

**Q: 圖片無法載入？**
A: 檢查圖片檔案路徑和權限，確保檔案存在且可讀取。

**Q: 配件無法顯示？**
A: 確認配件檔案在 `Accessories/` 資料夾中，且檔案名稱正確。

**Q: 儲存失敗？**
A: 檢查 PHP 環境和檔案權限，或使用手動複製 JSON 方式備份。

**Q: 圖片編輯功能異常？**
A: 確保瀏覽器支援 Canvas API，嘗試重新整理頁面。

### 測試功能
使用內建的測試頁面檢查系統狀態：
- `test.html`：功能完整性測試
- `test_paths.html`：路徑和圖片載入測試

## 📝 更新日誌

### v1.3.0
- ✅ 改進的搜尋演算法（模糊搜尋、拼音搜尋）
- ✅ 批量編輯系統
- ✅ 移動端優化

### v1.2.0
- ✅ 分頁系統
- ✅ 真實配件系統
- ✅ 完整測試系統

### v1.1.0
- ✅ 真實配件系統
- ✅ 改進的圖片編輯
- ✅ 增強的錯誤處理

### v1.0.0
- ✅ 基本搜尋和篩選功能
- ✅ 圖片編輯工具
- ✅ 配件系統
- ✅ 標籤管理
- ✅ 資料匯出
- ✅ 響應式設計

## 🤝 貢獻

歡迎提交 Issue 和 Pull Request 來改進這個專案！

## 📄 授權

本專案採用 MIT 授權條款。

---

**開發者**：社群頭貼搜尋系統團隊  
**版本**：1.4.0  
**最後更新**：2024年 